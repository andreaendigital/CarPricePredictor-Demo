# ğŸš— Car Price Prediction Demo

## ğŸ“‹ Project Overview

**Educational machine learning demo** for automotive price prediction. Built for learning purposes with modern web technologies, comprehensive documentation, and best practices.

### ğŸ¯ Educational Value

- **ML Learning** - Hands-on experience with XGBoost algorithms
- **API Development** - RESTful API design and documentation
- **Full-Stack Development** - Frontend and backend integration
- **DevOps Practices** - CI/CD, testing, and deployment workflows
- **Modern Tools** - TOML configuration, Docker, GitHub Actions

## Architecture Overview

```
Car Price Prediction Demo
â”œâ”€â”€ frontend/             # Modern Web Interface (Port 3000)
â”‚   â”œâ”€â”€ api/              # Flask blueprints & routing
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ routes.py
â”‚   â”œâ”€â”€ config/           # Application configuration
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â””â”€â”€ settings.py
â”‚   â”œâ”€â”€ logic/            # Business logic layer
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ data_processor.py
â”‚   â”‚   â””â”€â”€ predictor.py
â”‚   â”œâ”€â”€ static/           # CSS3 animations & JavaScript
â”‚   â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ js/
â”‚   â”œâ”€â”€ templates/        # Professional HTML5 templates
â”‚   â”‚   â”œâ”€â”€ index.html
â”‚   â”‚   â””â”€â”€ layout.html
â”‚   â”œâ”€â”€ tests/            # Unit & integration tests
â”‚   â”‚   â”œâ”€â”€ test_api_endpoints.py
â”‚   â”‚   â””â”€â”€ test_logic_unit.py
â”‚   â”œâ”€â”€ app.py            # Frontend Flask application
â”‚   â””â”€â”€ Dockerfile       # Frontend containerization
â”‚
â”œâ”€â”€ backend/              # ML API Services (Port 5002/5004)
â”‚   â”œâ”€â”€ modelo/           # Trained XGBoost ML model
â”‚   â”‚   â””â”€â”€ modelo.joblib
â”‚   â”œâ”€â”€ app.py            # Lightweight ML API
â”‚   â”œâ”€â”€ app_swagger.py    # Enterprise Swagger API
â”‚   â”œâ”€â”€ vehiculos.json    # Vehicle data storage
â”‚   â””â”€â”€ Dockerfile       # Backend containerization
â”‚
â”œâ”€â”€ tests/                # Integration & E2E tests
â”‚   â”œâ”€â”€ test_backend.py   # Backend API testing
â”‚   â”œâ”€â”€ test_integration.py # End-to-end testing
â”‚   â””â”€â”€ README.md         # Testing documentation
â”‚
â”œâ”€â”€ scripts/              # Development & utility scripts
â”‚   â”œâ”€â”€ start-local.sh   # Python development startup
â”‚   â”œâ”€â”€ docker-status.sh # Docker health checks
â”‚   â””â”€â”€ dev-status.sh    # Service status checker
â”‚
â”œâ”€â”€ config/               # Configuration files
â”‚   â”œâ”€â”€ docker-compose.dev.yml # Docker development
â”‚   â”œâ”€â”€ mkdocs.yml        # Documentation config
â”‚   â”œâ”€â”€ .pre-commit-config.yaml # Code quality
â”‚   â””â”€â”€ .dockerignore     # Docker ignore rules
â”‚
â”œâ”€â”€ docs/                 # Project documentation
â”‚   â”œâ”€â”€ api/              # API documentation
â”‚   â”‚   â””â”€â”€ endpoints.md
â”‚   â”œâ”€â”€ architecture/     # Architecture documentation
â”‚   â”‚   â””â”€â”€ components.md
â”‚   â”œâ”€â”€ assets/           # Documentation assets
â”‚   â”‚   â”œâ”€â”€ css/, images/, js/
â”‚   â”œâ”€â”€ backend/          # Backend documentation
â”‚   â”‚   â””â”€â”€ readme_swagger.md
â”‚   â”œâ”€â”€ development/      # Development documentation
â”‚   â”‚   â”œâ”€â”€ CHANGELOG.md
â”‚   â”‚   â””â”€â”€ TEST_RESULTS.md
â”‚   â””â”€â”€ index.md          # Main documentation
â”‚
â”œâ”€â”€ .github/              # GitHub workflows & templates
â”‚   â”œâ”€â”€ workflows/        # CI/CD pipelines
â”‚   â”‚   â”œâ”€â”€ ci-cd.yml
â”‚   â”‚   â””â”€â”€ docs.yml
â”‚   â””â”€â”€ ISSUE_TEMPLATE/   # Issue templates
â”‚
â”œâ”€â”€ pyproject.toml        # Modern Python configuration (TOML)
â”œâ”€â”€ Makefile             # Development commands
â””â”€â”€ README.MD            # Project documentation
```

## ğŸš€ Quick Start Guide

### ğŸ¯ One-Command Setup

```bash
# Clone repository and navigate to project
git clone https://github.com/joserubio/CarPricePredictor-Demo.git
cd CarPricePredictor-Demo

# Complete environment setup (one-time)
make setup

# Start development environment
make dev
```

### ğŸ“‹ Prerequisites

- **Python 3.9+** (automatically validated)
- **pip** (automatically validated)
- **Git** (for cloning)
- **Docker** (optional, for containerized development)

### ğŸŒ Instant Access Points

After running `make dev`, access:

- **ğŸ¨ Web Application**: `http://localhost:3000`
- **ğŸš€ Backend API**: `http://localhost:5002`
- **ğŸ“š API Documentation**: `http://localhost:5004/docs-menu`
- **ğŸ“– Swagger UI**: `http://localhost:5004/docs/`
- **ğŸ“ Project Documentation**: `make docs` â†’ `http://localhost:8000`

## ğŸ“Š API Endpoints

### ğŸ” Price Prediction Services

| Endpoint             | Method | Description                 | Parameters                                            |
| -------------------- | ------ | --------------------------- | ----------------------------------------------------- |
| `/precio_actual`     | GET    | Current market valuation    | model_year, age, fuel_type, transmission, clean_title |
| `/prediccion_futura` | GET    | Future price forecasting    | Same as above + meses (months)                        |
| `/publicar_vehiculo` | POST   | Vehicle marketplace listing | Vehicle data + precio (listing price)                 |

### ğŸ“ˆ Sample API Calls

```bash
# Current Price Prediction
curl "http://localhost:5002/precio_actual?model_year=2020&age=4&fuel_type=Gasoline&transmission=Automatic&clean_title=1"

# Future Price Forecasting (12 months)
curl "http://localhost:5002/prediccion_futura?model_year=2020&age=4&fuel_type=Gasoline&transmission=Automatic&clean_title=1&meses=12"

# Vehicle Publishing
curl -X POST http://localhost:5002/publicar_vehiculo \
  -H "Content-Type: application/json" \
  -d '{"model_year": 2020, "age": 4, "fuel_type": "Gasoline", "transmission": "Automatic", "clean_title": 1, "precio": 25000000}'
```

## ğŸ› ï¸ Technical Stack

### Backend Technologies

- **Framework**: Flask + Flask-RESTX
- **ML Engine**: XGBoost (Gradient Boosting)
- **API Documentation**: Swagger/OpenAPI 3.0
- **Data Storage**: JSON-based persistence
- **CORS**: Cross-origin resource sharing enabled

### Frontend Technologies

- **Framework**: Flask + Jinja2 templating
- **Styling**: CSS3 with animations and gradients
- **JavaScript**: ES6+ with Fetch API
- **UI/UX**: Responsive design with professional styling
- **Testing**: Unit and integration test suites

### Documentation Formats

- **Swagger UI** - Interactive API testing
- **ReDoc** - Professional dark theme documentation
- **RapiDoc** - Modern interactive documentation
- **Stoplight Elements** - Enterprise-grade documentation
- **Scalar** - Elegant modern API documentation

## Technical Stack

**Frontend**: Flask + Jinja2, CSS3 animations, responsive design, real-time validation
**Backend**: Flask-RESTX, XGBoost ML model, Swagger/OpenAPI documentation
**ML Model**: XGBoost algorithm with features (model_year, age, fuel_type, transmission, clean_title)
**Predictions**: Current market value, future price forecasting, marketplace recommendations
**Quality**: Black, Flake8, pytest with coverage, pre-commit hooks
**Deployment**: Docker containers, GitHub Actions CI/CD, GitHub Container Registry

## Development & Testing

### Quick Commands
```bash
make setup    # One-time environment setup
make dev      # Start development (Python/Docker choice)
make test     # Run all tests (Backend + Frontend + Integration)
make docs     # Live documentation server
```

### Test Coverage
- **Backend**: `tests/test_backend.py` - ML API endpoints, model predictions
- **Frontend**: `frontend/tests/` - API endpoints, business logic validation
- **Integration**: `tests/test_integration.py` - End-to-end workflow testing
- **Quality**: Black formatting, Flake8 linting, pytest coverage, pre-commit hooks

### CI/CD Pipeline
**Stages**: Test & Quality â†’ Build Images â†’ Deploy (Dev/Prod)
**Triggers**: `main`, `develop`, `feature/*`, `SCRUM-*` branches
**Testing**: Python 3.9 & 3.11 matrix, Black/Flake8, full test suite
**Deployment**: Docker containers to GitHub Container Registry (ghcr.io)
**Quality Gates**: All tests pass, code formatting, linting, coverage reports

### Development Options
**Python** (Recommended): `make dev-python` - Fast startup, hot reload, local services
**Docker** (Production-like): `make dev-docker` - Containerized, health checks, production parity

**Services**: Backend (5002), Docs (5004), Frontend (3000)
**Documentation**: `make docs` (live editing), `make docs-deploy` (GitHub Pages)

## Makefile Commands Visual Guide

```mermaid
flowchart TD
    A[ğŸ¯ make setup] --> B{ğŸš€ make dev}
    B --> C[ğŸ make dev-python]
    B --> D[ğŸ³ make dev-docker]

    C --> E["ğŸŒ Services Running<br/>â€¢ Backend :5002<br/>â€¢ Docs :5004<br/>â€¢ Frontend :3000"]
    D --> E

    A --> F[ğŸ§ª make test]
    F --> G["ğŸ“Š Test Results<br/>â€¢ Backend Coverage<br/>â€¢ Frontend Coverage<br/>â€¢ Integration Tests"]

    A --> H[ğŸ“š make docs]
    H --> I["ğŸ“ Live Docs<br/>localhost:8000"]
    H --> J[ğŸ—ï¸ make docs-build]
    J --> K[ğŸš€ make docs-deploy]
    K --> L["ğŸ“– GitHub Pages<br/>Live Documentation"]

    A --> N[ğŸ”’ make pre-commit]
    N --> O["âœ… Quality Checks<br/>â€¢ Black Formatting<br/>â€¢ Flake8 Linting<br/>â€¢ Tests"]

    M[ğŸ§¹ make clean] --> A
    P[â„¹ï¸ make help] --> Q["Available Commands"]

    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style F fill:#fff3e0
    style H fill:#e8f5e8
    style M fill:#ffebee
    style N fill:#f1f8e9
```

### ğŸ¯ Command Quick Reference

| Command            | Flow                                      | Result                   |
| ------------------ | ----------------------------------------- | ------------------------ |
| `make setup`       | ğŸ” Validate â†’ ğŸ“¦ Install â†’ âœ… Ready       | Complete dev environment |
| `make dev`         | ğŸ¯ Choose â†’ ğŸš€ Launch â†’ ğŸŒ Services       | Interactive launcher     |
| `make dev-python`  | âœ… Check â†’ ğŸ Start â†’ ğŸ”¥ Hot reload       | Local Python services    |
| `make dev-docker`  | ğŸ³ Check â†’ ğŸ—ï¸ Build â†’ ğŸ¥ Health           | Containerized services   |
| `make test`        | ğŸ“Š Backend â†’ ğŸ¨ Frontend â†’ ğŸ”— Integration | Quality validation       |
| `make docs`        | ğŸ“š Install â†’ ğŸŒ Serve â†’ ğŸ”„ Live edit      | Documentation server     |
| `make docs-build`  | ğŸ” Check â†’ ğŸ—ï¸ Build â†’ ğŸ“ Static           | Production docs          |
| `make docs-deploy` | âš ï¸ Confirm â†’ ğŸš€ Deploy â†’ ğŸ“– Live          | GitHub Pages             |
| `make clean`       | ğŸ—‘ï¸ Python â†’ ğŸ§ª Tests â†’ ğŸ³ Docker          | Fresh environment        |
| `make pre-commit`  | ğŸ”’ Install â†’ ğŸ§ª Run â†’ âœ… Quality          | Code quality checks      |
| `make help`        | ğŸ“‹ Show â†’ ğŸ“ List â†’ â„¹ï¸ Info              | Available commands       |

### ğŸ”„ Development Workflow

```mermaid
graph LR
    A["ğŸ†• New Developer"] --> B["make setup"]
    B --> C["make dev"]
    C --> D["ğŸ› ï¸ Code Changes"]
    D --> E["make test"]
    E --> F{"âœ… Tests Pass?"}
    F -->|Yes| G["ğŸ“¤ Commit"]
    F -->|No| D
    G --> H["ğŸ”„ Continue"]
    H --> C

    style B fill:#e1f5fe
    style C fill:#f3e5f5
    style E fill:#fff3e0
```

## ğŸ“‹ Project Achievements

### âœ… Completed Features

- [x] **Unified Development Workflow** - Single command setup and development
- [x] **Smart Environment Launcher** - Choose Python or Docker development
- [x] **Professional ML Architecture** - XGBoost integration with production-ready APIs
- [x] **Comprehensive Testing** - Unit, Integration, and E2E testing (`make test`)
- [x] **Live Documentation** - MkDocs with GitHub Pages deployment (`make docs`)
- [x] **Quality Automation** - Black, Flake8, Coverage reporting
- [x] **CI/CD Pipeline** - GitHub Actions with branch-based deployment
- [x] **Multiple API Formats** - Swagger, ReDoc, RapiDoc documentation
- [x] **Responsive Web Interface** - Professional UI with real-time predictions
- [x] **Docker Support** - Containerized development and deployment
- [x] **CORS-enabled Architecture** - Microservices-ready design

### ğŸ¯ Learning Impact

- **Easy Setup** - `make setup` gets students coding in 30 seconds
- **Best Practices** - Learn industry-standard development workflows
- **Documentation Skills** - Experience with professional documentation
- **Quality Focus** - Automated testing and code quality practices
- **Modern Architecture** - Docker and microservices concepts
- **Real-World Tools** - Production-grade development environment

## ğŸ‘¥ Development Team

**Project Lead**: Jose Rubio
**Architecture**: Full-stack MLOps solution
**Methodology**: SCRUM/Agile development
**Quality**: Enterprise-grade standards

---

## ğŸ‰ Getting Started

### ğŸš€ 30-Second Setup

```bash
# 1. Clone and enter project
git clone https://github.com/joserubio/CarPricePredictor-Demo.git && cd CarPricePredictor-Demo

# 2. Complete setup (installs everything)
make setup

# 3. Start development
make dev

# ğŸ¯ You're ready to develop!
```

### ğŸ”„ Daily Development Workflow

```bash
# Morning routine
make dev           # Start development environment

# Development cycle
make test          # Run tests before committing
make docs          # Update documentation

# Maintenance
make clean         # Clean environment when needed
```

### ğŸŒ Access Points (All Environments)

| Service             | URL                               | Purpose                                 |
| ------------------- | --------------------------------- | --------------------------------------- |
| ğŸ¨ **Web App**      | `http://localhost:3000`           | Main application interface              |
| ğŸš€ **API**          | `http://localhost:5002`           | ML prediction endpoints                 |
| ğŸ“š **API Docs**     | `http://localhost:5004/docs-menu` | Interactive API documentation           |
| ğŸ“– **Swagger**      | `http://localhost:5004/docs/`     | API testing interface                   |
| ğŸ“ **Project Docs** | `http://localhost:8000`           | Project documentation (via `make docs`) |

### ğŸ†˜ Need Help?

```bash
make help                    # Show all available commands
./scripts/dev-status.sh      # Check service status
make clean                   # Reset environment
```

### âœ… What `make setup` Does

- âœ… Validates Python 3.9+ and pip
- âœ… Installs all dependencies from **pyproject.toml** (TOML format)
- âœ… Unified configuration using Tom's Obvious Minimal Language
- âœ… Backend dependencies (Flask, XGBoost, ML libraries)
- âœ… Frontend dependencies (Flask, Flasgger)
- âœ… Testing tools (pytest, coverage, black, flake8)
- âœ… Documentation tools (MkDocs, Material theme)
- âœ… Modern Python project standards (PEP 518/621)

**ğŸ¯ One command, complete setup, ready to develop!**

### ğŸš€ Modern Configuration (v1.1.0)

**TOML Migration Completed** - The project now uses modern Python configuration:

```bash
# Single command setup (replaces 3 separate requirements.txt files)
make setup  # Uses pyproject.toml (TOML format)
```

**Benefits:**
- âš¡ **3x Faster Setup** - One command vs three
- ğŸ¯ **Centralized Config** - All dependencies in pyproject.toml
- ğŸ› ï¸ **Tool Integration** - Black, pytest, flake8 configured in TOML
- ğŸ“Š **Modern Standards** - PEP 518/621 compliant

**Migration Documentation:**
- [MIGRATION_README.md](MIGRATION_README.md) - Complete migration details and implementation summary
- [CHANGELOG.md](docs/development/CHANGELOG.md) - Version history and evolution
- [pyproject.toml](pyproject.toml) - TOML configuration file (Tom's Obvious Minimal Language)

### âš¡ Quick Commands

```bash
# ğŸ¯ First Time Setup
make setup && make dev

# ğŸ”„ Daily Development
make dev          # Start coding
make test         # Quality check
make docs         # Documentation

# ğŸ§¹ Maintenance
make clean        # Fresh start
```
